<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Be My Valentine ðŸ’–</title>

<style>
* {
box-sizing: border-box;
}

body {
margin: 0;
padding: env(safe-area-inset-top) 16px env(safe-area-inset-bottom);
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial;
background: #fdf2f8;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
min-height: 100vh;
overflow: hidden;
text-align: center;
}

img {
width: 100%;
max-width: 340px;
height: auto;
border-radius: 14px;
margin-bottom: 24px;
}

.buttons {
position: relative;
height: 80px;
margin-top: 10px;
}

button {
padding: 14px 22px;
font-size: 20px;
font-weight: 600;
border: none;
border-radius: 12px;
cursor: pointer;
touch-action: manipulation;
transition: transform 0.2s ease;
}

#yes {
background-color: #22c55e;
color: white;
position: relative;
z-index: 2;
}

#no {
background-color: #ef4444;
color: white;
position: fixed; /* ðŸ”¥ KEY FIX */
z-index: 3;
}

canvas {
position: fixed;
inset: 0;
pointer-events: none;
}
</style>
</head>

<body>

<img src="meme.png" alt="Valentine Meme" />

<div class="buttons">
<button id="yes">Yes ðŸ’–</button>
</div>

<button id="no">No ðŸ™ƒ</button>

<canvas id="confetti"></canvas>

<script>
let yesScale = 1;

const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

// Place No initially near Yes
function placeNoInitially() {
const yesRect = yesBtn.getBoundingClientRect();
noBtn.style.left = `${yesRect.right + 10}px`;
noBtn.style.top = `${yesRect.top}px`;
}
placeNoInitially();

function moveNoButton() {
const padding = 20;

const maxX = window.innerWidth - noBtn.offsetWidth - padding;
const maxY = window.innerHeight - noBtn.offsetHeight - padding;

const x = Math.random() * maxX;
const y = Math.random() * maxY;

noBtn.style.left = `${x}px`;
noBtn.style.top = `${y}px`;

yesScale += 0.18;
yesBtn.style.transform = `scale(${yesScale})`;
}

// Desktop
noBtn.addEventListener("mouseenter", moveNoButton);
// Mobile
noBtn.addEventListener("touchstart", moveNoButton);

yesBtn.addEventListener("click", () => {
launchConfetti();
});

// ðŸŽ‰ Confetti
const confetti = [];

function launchConfetti() {
confetti.length = 0;
for (let i = 0; i < 220; i++) {
confetti.push({
x: Math.random() * canvas.width,
y: Math.random() * canvas.height - canvas.height,
r: Math.random() * 6 + 4,
speed: Math.random() * 4 + 3,
color: `hsl(${Math.random() * 360}, 100%, 55%)`
});
}
animateConfetti();
}

function animateConfetti() {
ctx.clearRect(0, 0, canvas.width, canvas.height);
confetti.forEach(p => {
ctx.beginPath();
ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
ctx.fillStyle = p.color;
ctx.fill();
p.y += p.speed;
if (p.y > canvas.height) p.y = -10;
});
requestAnimationFrame(animateConfetti);
}
</script>

</body>
</html>
